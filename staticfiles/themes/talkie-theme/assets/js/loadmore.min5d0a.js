"use strict";!function(p){p(document).ready(function(){var a=p(".php_prefix_datapass").data("options"),e=p(".php_prefix_datapass_blog").data("options"),i=p(".watchlist-contens").data("options");"load_more"==a&&p(".php_prefix_loadmore_btn").click(function(){var e=p(this).attr("data-loading-text"),i=p(this).text(),r=p(this),a={action:"loadmore",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page};p.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){r.text(e)},success:function(a){a?(r.text(i).prev("div").append(a),php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==php_prefix_loadmore_params.max_page&&r.remove()):r.remove()}})}),"load_more"==e&&p(".php_prefix_loadmore_btn_blog").click(function(){var e=p(this).attr("data-loading-text"),i=p(this).text(),r=p(this),a={action:"loadmore_blog",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page};p.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){r.text(e)},success:function(a){a?(r.text(i).prev().after(a),php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==php_prefix_loadmore_params.max_page&&r.remove()):r.remove()}})}),"load_more"==i&&p(".php_prefix_loadmore_btn").click(function(){var e=p(this).attr("data-loading-text"),i=p(this).text(),r=p(".watchlist-contens").data("pages"),t=p(this),a={action:"loadmore_archive",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page,availablepost:p(".watchlist-contens").data("displaypost")};p.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){t.text(e)},success:function(a){a?(t.text(i).prev("div").append(a),watchlist_last_item(),circle_chart(),php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==r&&t.remove()):t.remove()}})})}),p(function(t){var p=!0,o=2e3,a=t(".php_prefix_datapass").data("options"),e=t(".php_prefix_datapass_blog").data("options"),i=t(".php_prefix_datapass_archive").data("options");t(".css_prefix-product-main-list").data("options");"infinite_scroll"==a&&t(window).scroll(function(){var a={action:"loadmore",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page};t(document).scrollTop()>t(document).height()-o&&1==p&&t.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){p=!1},success:function(a){a?(t(".loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),t("#main").find("article:last-of-type").after(a),p=!0,php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==php_prefix_loadmore_params.max_page&&t(".loader-wheel-container").html("")):t(".loader-wheel-container").html("")}})}),"infinite_scroll"==e&&t(window).scroll(function(){var a={action:"loadmore_blog",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page};t(document).scrollTop()>t(document).height()-o&&1==p&&t.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){p=!1},success:function(a){a?(t(".loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),t("#main").find(".css_prefix-blog-main-list .loader-wheel-container").before(a),p=!0,php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==php_prefix_loadmore_params.max_page&&t(".loader-wheel-container").html("")):t(".loader-wheel-container").html("")}})}),"infinite_scroll"==i&&t(window).scroll(function(){var e=t(".watchlist-contens").data("pages"),i=t(".loader-wheel-container"),a=(t(this),{action:"loadmore_archive",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page,availablepost:t(".watchlist-contens").data("displaypost")});t(document).scrollTop()>t(document).height()-o&&1==p&&t.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){p=!1},success:function(a){a?(t(".loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),i.prev("div").append(a),watchlist_last_item(),circle_chart(),php_prefix_loadmore_params.current_page++,p=!0,php_prefix_loadmore_params.current_page==e&&t(".loader-wheel-container").html("")):t(".loader-wheel-container").html("")}})}),0<t("#cast-person-list").length&&t("#cast-person-list").scroll(function(){var a,e,i,r=t(this);"infinite_scroll"==r.find(".schopfer_cast_list.active").data("options")&&t(document).scrollTop()>t(document).height()-o&&1==p&&(p=!1,a=parseInt(r.find(".schopfer_cast_list.active").data("current-page")),i=r.find(".schopfer_cast_list.active").attr("data-attibute"),e=window.location.href,i={action:"loadmore_person",query:php_prefix_loadmore_params.posts,page:a,href:e,post_type:i},a++,r.find(".schopfer_cast_list.active").data("current-page",a),t.ajax({url:php_prefix_loadmore_params.ajaxurl,data:i,type:"POST",success:function(a){a?(r.find(".schopfer_cast_list.active .loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),r.find(".schopfer_cast_list.active .cast-related-list tr:last-child").after(a),p=!0):r.find(".schopfer_cast_list.active .loader-wheel-container").html("")}}))})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYWRtb3JlLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCJwaHBfcHJlZml4X29wdGlvbnMiLCJkYXRhIiwicGhwX3ByZWZpeF9vcHRpb25zX2Jsb2ciLCJwaHBfcHJlZml4X29wdGlvbl9hY2hpdmUiLCJjbGljayIsImJ1dHRvbl9sb2FkIiwiYXR0ciIsImJ1dHRvbl90ZXh0IiwidGV4dCIsImJ1dHRvbiIsImFjdGlvbiIsInF1ZXJ5IiwicGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMiLCJwYWdlIiwiY3VycmVudF9wYWdlIiwiYWpheCIsImFqYXh1cmwiLCJ1cmwiLCJiZWZvcmVTZW5kIiwieGhyIiwicHJldiIsImFwcGVuZCIsInN1Y2Nlc3MiLCJtYXhfcGFnZSIsInJlbW92ZSIsInRoaXMiLCJwb3N0cyIsImFmdGVyIiwiYXZhaWxhYmxlcG9zdCIsImNpcmNsZV9jaGFydCIsIndhdGNobGlzdF9sYXN0X2l0ZW0iLCJib3R0b21PZmZzZXQiLCJjYW5CZUxvYWRlZCIsInBocF9wcmVmaXhfb3B0aW9uX3Byb2R1Y3QiLCJwaHBfcHJlZml4X29wdGlvbl9hcmNoaXZlIiwid2luZG93Iiwic2Nyb2xsIiwic2Nyb2xsVG9wIiwiaGVpZ2h0IiwiaHRtbCIsImZpbmQiLCJiZWZvcmUiLCJsb2FkZXJfd2hlZWwiLCJ0eXBlIiwicGhwX3ByZWZpeF9jdXJyZW50X3BhZ2UiLCJfdGhpcyIsImhyZWYiLCJwYXJzZUludCIsInBvc3QiXSwibWFwcGluZ3MiOiJjQUFBLFNBQVdBLEdBQVZBLEVBQUFDLFVBQUFDLE1BQWtCLFdBSWpCLElBQUFDLEVBQXNCSCxFQUFHQSx3QkFBTUksS0FBeUJBLFdBQ3hEQyxFQUEyQkwsRUFBR0EsNkJBQU1JLEtBQThCQSxXQUNsRUUsRUFBNEJOLEVBQUdBLHNCQUFNSSxLQUF1QkEsV0FFdEMsYUFBdEJELEdBQ0NILEVBQUFBLDRCQUFPTyxNQUE0QkEsV0FDbEMsSUFBQUMsRUFBSUEsRUFBY1IsTUFBT1Ms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dCI6WyIoZnVuY3Rpb24gKGpRdWVyeSkge1xuXG5cdGpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG5cdFx0bGV0IHBocF9wcmVmaXhfb3B0aW9ucyA9IGpRdWVyeSgnLnBocF9wcmVmaXhfZGF0YXBhc3MnKS5kYXRhKCdvcHRpb25zJyk7XG5cdFx0bGV0IHBocF9wcmVmaXhfb3B0aW9uc19ibG9nID0galF1ZXJ5KCcucGhwX3ByZWZpeF9kYXRhcGFzc19ibG9nJykuZGF0YSgnb3B0aW9ucycpO1xuXHRcdGxldCBwaHBfcHJlZml4X29wdGlvbl9hY2hpdmUgPSBqUXVlcnkoJy53YXRjaGxpc3QtY29udGVucycpLmRhdGEoJ29wdGlvbnMnKTtcblx0XHRcblx0XHRpZiAocGhwX3ByZWZpeF9vcHRpb25zID09IFwibG9hZF9tb3JlXCIpIHtcblx0XHRcdGpRdWVyeSgnLnBocF9wcmVmaXhfbG9hZG1vcmVfYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRsZXQgYnV0dG9uX2xvYWQgPSBqUXVlcnkodGhpcykuYXR0cignZGF0YS1sb2FkaW5nLXRleHQnKTtcblx0XHRcdFx0bGV0IGJ1dHRvbl90ZXh0ID0galF1ZXJ5KHRoaXMpLnRleHQoKTtcblx0XHRcdFx0bGV0IGJ1dHRvbiA9IGpRdWVyeSh0aGlzKSxcblx0XHRcdFx0XHRkYXRhID0ge1xuXHRcdFx0XHRcdFx0J2FjdGlvbic6ICdsb2FkbW9yZScsXG5cdFx0XHRcdFx0XHQncXVlcnknOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5wb3N0cywgLy8gdGhhdCdzIGhvdyB3ZSBnZXQgcGFyYW1zIGZyb20gd3BfbG9jYWxpemVfc2NyaXB0KCkgZnVuY3Rpb25cblx0XHRcdFx0XHRcdCdwYWdlJzogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0alF1ZXJ5LmFqYXgoeyAvLyB5b3UgY2FuIGFsc28gdXNlIGpRdWVyeS5wb3N0IGhlcmVcblx0XHRcdFx0XHR1cmw6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmFqYXh1cmwsIC8vIEFKQVggaGFuZGxlclxuXHRcdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxuXHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KGJ1dHRvbl9sb2FkKTsgLy8gY2hhbmdlIHRoZSBidXR0b24gdGV4dCwgeW91IGNhbiBhbHNvIGFkZCBhIHByZWxvYWRlciBpbWFnZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KGJ1dHRvbl90ZXh0KS5wcmV2KCdkaXYnKS5hcHBlbmQoZGF0YSk7IC8vIGluc2VydCBuZXcgcG9zdHNcblx0XHRcdFx0XHRcdFx0cGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlKys7XG5cblx0XHRcdFx0XHRcdFx0aWYgKHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSA9PSBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5tYXhfcGFnZSlcblx0XHRcdFx0XHRcdFx0XHRidXR0b24ucmVtb3ZlKCk7IC8vIGlmIGxhc3QgcGFnZSwgcmVtb3ZlIHRoZSBidXR0b25cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnJlbW92ZSgpOyAvLyBpZiBubyBkYXRhLCByZW1vdmUgdGhlIGJ1dHRvbiBhcyB3ZWxsXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmIChwaHBfcHJlZml4X29wdGlvbnNfYmxvZyA9PSBcImxvYWRfbW9yZVwiKSB7XG5cdFx0XHQvLyoqIGJsb2cgbG9hZCBtb3JlICovL1xuXHRcdFx0alF1ZXJ5KCcucGhwX3ByZWZpeF9sb2FkbW9yZV9idG5fYmxvZycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0bGV0IGJ1dHRvbl9sb2FkID0galF1ZXJ5KHRoaXMpLmF0dHIoJ2RhdGEtbG9hZGluZy10ZXh0Jyk7XG5cdFx0XHRcdGxldCBidXR0b25fdGV4dCA9IGpRdWVyeSh0aGlzKS50ZXh0KCk7XG5cdFx0XHRcdGxldCBidXR0b24gPSBqUXVlcnkodGhpcyksXG5cdFx0XHRcdFx0ZGF0YSA9IHtcblx0XHRcdFx0XHRcdCdhY3Rpb24nOiAnbG9hZG1vcmVfYmxvZycsXG5cdFx0XHRcdFx0XHQncXVlcnknOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5wb3N0cywgLy8gdGhhdCdzIGhvdyB3ZSBnZXQgcGFyYW1zIGZyb20gd3BfbG9jYWxpemVfc2NyaXB0KCkgZnVuY3Rpb25cblx0XHRcdFx0XHRcdCdwYWdlJzogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRqUXVlcnkuYWpheCh7IC8vIHlvdSBjYW4gYWxzbyB1c2UgalF1ZXJ5LnBvc3QgaGVyZVxuXHRcdFx0XHRcdHVybDogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuYWpheHVybCwgLy8gQUpBWCBoYW5kbGVyXG5cdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXG5cdFx0XHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikge1xuXHRcdFx0XHRcdFx0YnV0dG9uLnRleHQoYnV0dG9uX2xvYWQpOyAvLyBjaGFuZ2UgdGhlIGJ1dHRvbiB0ZXh0LCB5b3UgY2FuIGFsc28gYWRkIGEgcHJlbG9hZGVyIGltYWdlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0aWYgKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnRleHQoYnV0dG9uX3RleHQpLnByZXYoKS5hZnRlcihkYXRhKTsgLy8gaW5zZXJ0IG5ldyBwb3N0c1xuXHRcdFx0XHRcdFx0XHRwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UrKztcblxuXHRcdFx0XHRcdFx0XHRpZiAocGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlID09IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLm1heF9wYWdlKVxuXHRcdFx0XHRcdFx0XHRcdGJ1dHRvbi5yZW1vdmUoKTsgLy8gaWYgbGFzdCBwYWdlLCByZW1vdmUgdGhlIGJ1dHRvblxuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRidXR0b24ucmVtb3ZlKCk7IC8vIGlmIG5vIGRhdGEsIHJlbW92ZSB0aGUgYnV0dG9uIGFzIHdlbGxcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0XHRpZiAocGhwX3ByZWZpeF9vcHRpb25fYWNoaXZlID09IFwibG9hZF9tb3JlXCIpIHtcblx0XHRcdGpRdWVyeSgnLnBocF9wcmVmaXhfbG9hZG1vcmVfYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRsZXQgYnV0dG9uX2xvYWQgPSBqUXVlcnkodGhpcykuYXR0cignZGF0YS1sb2FkaW5nLXRleHQnKTtcblx0XHRcdFx0bGV0IGJ1dHRvbl90ZXh0ID0galF1ZXJ5KHRoaXMpLnRleHQoKTtcblx0XHRcdFx0bGV0IG1heF9wYWdlID0galF1ZXJ5KCcud2F0Y2hsaXN0LWNvbnRlbnMnKS5kYXRhKCdwYWdlcycpO1xuXHRcdFx0XHRsZXQgYnV0dG9uID0galF1ZXJ5KHRoaXMpLFxuXHRcdFx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdFx0XHQnYWN0aW9uJzogJ2xvYWRtb3JlX2FyY2hpdmUnLFxuXHRcdFx0XHRcdFx0J3F1ZXJ5JzogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMucG9zdHMsIC8vIHRoYXQncyBob3cgd2UgZ2V0IHBhcmFtcyBmcm9tIHdwX2xvY2FsaXplX3NjcmlwdCgpIGZ1bmN0aW9uXG5cdFx0XHRcdFx0XHQncGFnZSc6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSxcblx0XHRcdFx0XHRcdCdhdmFpbGFibGVwb3N0JzogalF1ZXJ5KCcud2F0Y2hsaXN0LWNvbnRlbnMnKS5kYXRhKCdkaXNwbGF5cG9zdCcpLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdGpRdWVyeS5hamF4KHsgLy8geW91IGNhbiBhbHNvIHVzZSBqUXVlcnkucG9zdCBoZXJlXG5cdFx0XHRcdFx0dXJsOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLCAvLyBBSkFYIGhhbmRsZXJcblx0XHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRcdHR5cGU6ICdQT1NUJyxcblx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XG5cdFx0XHRcdFx0XHRidXR0b24udGV4dChidXR0b25fbG9hZCk7IC8vIGNoYW5nZSB0aGUgYnV0dG9uIHRleHQsIHlvdSBjYW4gYWxzbyBhZGQgYSBwcmVsb2FkZXIgaW1hZ2Vcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRpZiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRidXR0b24udGV4dChidXR0b25fdGV4dCkucHJldignZGl2JykuYXBwZW5kKGRhdGEpOyAvLyBpbnNlcnQgbmV3IHBvc3RzXG5cdFx0XHRcdFx0XHRcdHdhdGNobGlzdF9sYXN0X2l0ZW0oKTtcblx0XHRcdFx0XHRcdFx0Y2lyY2xlX2NoYXJ0KCk7XG5cdFx0XHRcdFx0XHRcdHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSsrO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UgPT0gbWF4X3BhZ2UpXG5cdFx0XHRcdFx0XHRcdFx0YnV0dG9uLnJlbW92ZSgpOyAvLyBpZiBsYXN0IHBhZ2UsIHJlbW92ZSB0aGUgYnV0dG9uXG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi5yZW1vdmUoKTsgLy8gaWYgbm8gZGF0YSwgcmVtb3ZlIHRoZSBidXR0b24gYXMgd2VsbFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblxuXHR9KTtcblxuXHRqUXVlcnkoZnVuY3Rpb24gKGpRdWVyeSkge1xuXG5cdFx0bGV0IGNhbkJlTG9hZGVkID0gdHJ1ZSxcblx0XHRcdGJvdHRvbU9mZnNldCA9IDIwMDA7IC8vIHRoZSBkaXN0YW5jZSAoaW4gcHgpIGZyb20gdGhlIHBhZ2UgYm90dG9tIHdoZW4geW91IHdhbnQgdG8gbG9hZCBtb3JlIHBvc3RzXG5cblx0XHRsZXQgcGhwX3ByZWZpeF9vcHRpb25zID0galF1ZXJ5KCcucGhwX3ByZWZpeF9kYXRhcGFzcycpLmRhdGEoJ29wdGlvbnMnKTtcblx0XHRsZXQgcGhwX3ByZWZpeF9vcHRpb25zX2Jsb2cgPSBqUXVlcnkoJy5waHBfcHJlZml4X2RhdGFwYXNzX2Jsb2cnKS5kYXRhKCdvcHRpb25zJyk7XG5cdFx0bGV0IHBocF9wcmVmaXhfb3B0aW9uX2FyY2hpdmUgPSBqUXVlcnkoJy5waHBfcHJlZml4X2RhdGFwYXNzX2FyY2hpdmUnKS5kYXRhKCdvcHRpb25zJylcblx0XHRsZXQgcGhwX3ByZWZpeF9vcHRpb25fcHJvZHVjdCA9IGpRdWVyeSgnLmNzc19wcmVmaXgtcHJvZHVjdC1tYWluLWxpc3QnKS5kYXRhKCdvcHRpb25zJyk7XG5cdFx0aWYgKHBocF9wcmVmaXhfb3B0aW9ucyA9PSBcImluZmluaXRlX3Njcm9sbFwiKSB7XG5cblx0XHRcdGpRdWVyeSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGxldCBkYXRhID0ge1xuXHRcdFx0XHRcdCdhY3Rpb24nOiAnbG9hZG1vcmUnLFxuXHRcdFx0XHRcdCdxdWVyeSc6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLnBvc3RzLFxuXHRcdFx0XHRcdCdwYWdlJzogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0aWYgKGpRdWVyeShkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiAoalF1ZXJ5KGRvY3VtZW50KS5oZWlnaHQoKSAtIGJvdHRvbU9mZnNldCkgJiYgY2FuQmVMb2FkZWQgPT0gdHJ1ZSkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LmFqYXgoe1xuXHRcdFx0XHRcdFx0dXJsOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLFxuXHRcdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0XHRcdHR5cGU6ICdQT1NUJyxcblx0XHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcblx0XHRcdFx0XHRcdFx0Y2FuQmVMb2FkZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeShcIi5sb2FkZXItd2hlZWwtY29udGFpbmVyXCIpLmh0bWwoJzxkaXYgY2xhc3M9XCJsb2FkZXItd2hlZWxcIj48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2Rpdj4nKTtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoJyNtYWluJykuZmluZCgnYXJ0aWNsZTpsYXN0LW9mLXR5cGUnKS5hZnRlcihkYXRhKTsgLy8gd2hlcmUgdG8gaW5zZXJ0IHBvc3RzXG5cdFx0XHRcdFx0XHRcdFx0Y2FuQmVMb2FkZWQgPSB0cnVlOyAvLyB0aGUgYWpheCBpcyBjb21wbGV0ZWQsIG5vdyB3ZSBjYW4gcnVuIGl0IGFnYWluXG5cdFx0XHRcdFx0XHRcdFx0cGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlKys7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAocGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlID09IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLm1heF9wYWdlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCcnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KFwiLmxvYWRlci13aGVlbC1jb250YWluZXJcIikuaHRtbCgnJyk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0fSk7XG5cblx0XHR9XG5cdFx0aWYgKHBocF9wcmVmaXhfb3B0aW9uc19ibG9nID09IFwiaW5maW5pdGVfc2Nyb2xsXCIpIHtcblx0XHRcdGpRdWVyeSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0Ly8qKiBzZWFyY2ggbG9hZCBtb3JlICovL1xuXHRcdFx0XHRsZXQgZGF0YSA9IHtcblx0XHRcdFx0XHQnYWN0aW9uJzogJ2xvYWRtb3JlX2Jsb2cnLFxuXHRcdFx0XHRcdCdxdWVyeSc6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLnBvc3RzLFxuXHRcdFx0XHRcdCdwYWdlJzogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0aWYgKGpRdWVyeShkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiAoalF1ZXJ5KGRvY3VtZW50KS5oZWlnaHQoKSAtIGJvdHRvbU9mZnNldCkgJiYgY2FuQmVMb2FkZWQgPT0gdHJ1ZSkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LmFqYXgoe1xuXHRcdFx0XHRcdFx0dXJsOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLFxuXHRcdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0XHRcdHR5cGU6ICdQT1NUJyxcblx0XHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcblx0XHRcdFx0XHRcdFx0Y2FuQmVMb2FkZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeShcIi5sb2FkZXItd2hlZWwtY29udGFpbmVyXCIpLmh0bWwoJzxkaXYgY2xhc3M9XCJsb2FkZXItd2hlZWxcIj48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2Rpdj4nKTtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoJyNtYWluJykuZmluZCgnLmNzc19wcmVmaXgtYmxvZy1tYWluLWxpc3QgLmxvYWRlci13aGVlbC1jb250YWluZXInKS5iZWZvcmUoZGF0YSk7IC8vIHdoZXJlIHRvIGluc2VydCBwb3N0c1xuXHRcdFx0XHRcdFx0XHRcdGNhbkJlTG9hZGVkID0gdHJ1ZTsgLy8gdGhlIGFqYXggaXMgY29tcGxldGVkLCBub3cgd2UgY2FuIHJ1biBpdCBhZ2FpblxuXHRcdFx0XHRcdFx0XHRcdHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSsrO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UgPT0gcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMubWF4X3BhZ2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeShcIi5sb2FkZXItd2hlZWwtY29udGFpbmVyXCIpLmh0bWwoJycpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCcnKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly9Gb3IgQXJjaGl2ZSBwYWdlIFxuXHRcdGlmIChwaHBfcHJlZml4X29wdGlvbl9hcmNoaXZlID09IFwiaW5maW5pdGVfc2Nyb2xsXCIpIHtcblx0XHRcdGpRdWVyeSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0Ly8qKiBzZWFyY2ggbG9hZCBtb3JlICovL1xuXG5cdFx0XHRcdGxldCBtYXhfcGFnZSA9IGpRdWVyeSgnLndhdGNobGlzdC1jb250ZW5zJykuZGF0YSgncGFnZXMnKTtcblx0XHRcdFx0bGV0IGxvYWRlcl93aGVlbCA9IGpRdWVyeSgnLmxvYWRlci13aGVlbC1jb250YWluZXInKTtcblx0XHRcdFx0bGV0IGJ1dHRvbiA9IGpRdWVyeSh0aGlzKSxcblx0XHRcdFx0XHRkYXRhID0ge1xuXHRcdFx0XHRcdFx0J2FjdGlvbic6ICdsb2FkbW9yZV9hcmNoaXZlJyxcblx0XHRcdFx0XHRcdCdxdWVyeSc6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLnBvc3RzLCAvLyB0aGF0J3MgaG93IHdlIGdldCBwYXJhbXMgZnJvbSB3cF9sb2NhbGl6ZV9zY3JpcHQoKSBmdW5jdGlvblxuXHRcdFx0XHRcdFx0J3BhZ2UnOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UsXG5cdFx0XHRcdFx0XHQnYXZhaWxhYmxlcG9zdCc6IGpRdWVyeSgnLndhdGNobGlzdC1jb250ZW5zJykuZGF0YSgnZGlzcGxheXBvc3QnKSxcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdGlmIChqUXVlcnkoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gKGpRdWVyeShkb2N1bWVudCkuaGVpZ2h0KCkgLSBib3R0b21PZmZzZXQpICYmIGNhbkJlTG9hZGVkID09IHRydWUpIHtcblx0XHRcdFx0XHRqUXVlcnkuYWpheCh7IC8vIHlvdSBjYW4gYWxzbyB1c2UgalF1ZXJ5LnBvc3QgaGVyZVxuXHRcdFx0XHRcdFx0dXJsOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLCAvLyBBSkFYIGhhbmRsZXJcblx0XHRcdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXG5cdFx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XG5cdFx0XHRcdFx0XHRcdGNhbkJlTG9hZGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCc8ZGl2IGNsYXNzPVwibG9hZGVyLXdoZWVsXCI+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9kaXY+Jyk7XG5cdFx0XHRcdFx0XHRcdFx0bG9hZGVyX3doZWVsLnByZXYoJ2RpdicpLmFwcGVuZChkYXRhKTsgLy8gaW5zZXJ0IG5ldyBwb3N0c1xuXHRcdFx0XHRcdFx0XHRcdHdhdGNobGlzdF9sYXN0X2l0ZW0oKTtcblx0XHRcdFx0XHRcdFx0XHRjaXJjbGVfY2hhcnQoKTtcblx0XHRcdFx0XHRcdFx0XHRwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UrKztcblx0XHRcdFx0XHRcdFx0XHRjYW5CZUxvYWRlZCA9IHRydWU7IC8vIHRoZSBhamF4IGlzIGNvbXBsZXRlZCwgbm93IHdlIGNhbiBydW4gaXQgYWdhaW5cblxuXHRcdFx0XHRcdFx0XHRcdGlmIChwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UgPT0gbWF4X3BhZ2UpXG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCcnKTsgLy8gaWYgbGFzdCBwYWdlLCByZW1vdmUgdGhlIGJ1dHRvblxuXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KFwiLmxvYWRlci13aGVlbC1jb250YWluZXJcIikuaHRtbCgnJyk7IC8vIGlmIGxhc3QgcGFnZSwgcmVtb3ZlIHRoZSBidXR0b25cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8qKiBDYXN0IGluZmluaXRlIHNjcm9sbCoqLy9cblx0XHRpZiAoalF1ZXJ5KFwiI2Nhc3QtcGVyc29uLWxpc3RcIikubGVuZ3RoID4gMCkge1xuXHRcdFx0alF1ZXJ5KFwiI2Nhc3QtcGVyc29uLWxpc3RcIikuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0bGV0IF90aGlzID0galF1ZXJ5KHRoaXMpO1xuXHRcdFx0XHRsZXQgcGhwX3ByZWZpeF9vcHRpb25zX3BlcnNvbl9hbGwgPSBfdGhpcy5maW5kKCcuc2Nob3BmZXJfY2FzdF9saXN0LmFjdGl2ZScpLmRhdGEoJ29wdGlvbnMnKTtcblx0XHRcdFx0aWYgKHBocF9wcmVmaXhfb3B0aW9uc19wZXJzb25fYWxsID09ICdpbmZpbml0ZV9zY3JvbGwnKSB7XG5cdFx0XHRcdFx0Ly8qKiBwZXJzb24gbG9hZCBtb3JlICovL1xuXHRcdFx0XHRcdGlmIChqUXVlcnkoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gKGpRdWVyeShkb2N1bWVudCkuaGVpZ2h0KCkgLSBib3R0b21PZmZzZXQpICYmIGNhbkJlTG9hZGVkID09IHRydWUpIHtcblx0XHRcdFx0XHRcdGNhbkJlTG9hZGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRsZXQgcGhwX3ByZWZpeF9jdXJyZW50X3BhZ2UgPSBwYXJzZUludChfdGhpcy5maW5kKCcuc2Nob3BmZXJfY2FzdF9saXN0LmFjdGl2ZScpLmRhdGEoJ2N1cnJlbnQtcGFnZScpKTtcblx0XHRcdFx0XHRcdGxldCBwb3N0ID0gX3RoaXMuZmluZCgnLnNjaG9wZmVyX2Nhc3RfbGlzdC5hY3RpdmUnKS5hdHRyKCdkYXRhLWF0dGlidXRlJyk7XG5cdFx0XHRcdFx0XHRsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRcdFx0XHRsZXQgZGF0YSA9IHtcblx0XHRcdFx0XHRcdFx0J2FjdGlvbic6ICdsb2FkbW9yZV9wZXJzb24nLFxuXHRcdFx0XHRcdFx0XHQncXVlcnknOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5wb3N0cyxcblx0XHRcdFx0XHRcdFx0J3BhZ2UnOiBwaHBfcHJlZml4X2N1cnJlbnRfcGFnZSxcblx0XHRcdFx0XHRcdFx0J2hyZWYnOiB1cmwsXG5cdFx0XHRcdFx0XHRcdCdwb3N0X3R5cGUnOiBwb3N0LFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHBocF9wcmVmaXhfY3VycmVudF9wYWdlKys7XG5cdFx0XHRcdFx0XHRfdGhpcy5maW5kKCcuc2Nob3BmZXJfY2FzdF9saXN0LmFjdGl2ZScpLmRhdGEoJ2N1cnJlbnQtcGFnZScsIHBocF9wcmVmaXhfY3VycmVudF9wYWdlKTtcblx0XHRcdFx0XHRcdGpRdWVyeS5hamF4KHtcblx0XHRcdFx0XHRcdFx0dXJsOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLFxuXHRcdFx0XHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXG5cdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdF90aGlzLmZpbmQoJy5zY2hvcGZlcl9jYXN0X2xpc3QuYWN0aXZlIC5sb2FkZXItd2hlZWwtY29udGFpbmVyJykuaHRtbCgnPGRpdiBjbGFzcz1cImxvYWRlci13aGVlbFwiPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvZGl2PicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0X3RoaXMuZmluZCgnLnNjaG9wZmVyX2Nhc3RfbGlzdC5hY3RpdmUgLmNhc3QtcmVsYXRlZC1saXN0IHRyOmxhc3QtY2hpbGQnKS5hZnRlcihkYXRhKTsgLy8gd2hlcmUgdG8gaW5zZXJ0IHBvc3RzXG5cdFx0XHRcdFx0XHRcdFx0XHRjYW5CZUxvYWRlZCA9IHRydWU7IC8vIHRoZSBhamF4IGlzIGNvbXBsZXRlZCwgbm93IHdlIGNhbiBydW4gaXQgYWdhaW5cblxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfdGhpcy5maW5kKCcuc2Nob3BmZXJfY2FzdF9saXN0LmFjdGl2ZSAubG9hZGVyLXdoZWVsLWNvbnRhaW5lcicpLmh0bWwoJycpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cblx0fSk7XG5cblxufSkoalF1ZXJ5KTtcblxuIl19